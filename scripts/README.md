# سكريبت استيراد القرآن الكريم

## نظرة عامة
هذا السكريبت يقوم باستيراد القرآن الكريم من ملف `quran.json` المحلي إلى قاعدة البيانات.

## المتطلبات
- Python 3.7+
- Flask
- SQLAlchemy
- ملف `quran.json` في مجلد المشروع الرئيسي

## كيفية الاستخدام

### 1. تشغيل السكريبت
```bash
# تفعيل البيئة الافتراضية
source venv/bin/activate

# تشغيل السكريبت
python3 scripts/import_quran.py
```

### 2. وضع الاختبار
```bash
python3 scripts/import_quran.py --test
```

## ما يقوم به السكريبت

### 1. استيراد القراء
- مشاري العفاسي
- عبد الرحمن السديس
- سعد الغامدي
- سعود الشريم
- ماهر المعيقلي

### 2. استيراد الآيات
- يقرأ من ملف `quran.json`
- يحفظ 6236 آية في قاعدة البيانات
- يحسب رقم الصفحة لكل آية
- يحفظ البيانات بشكل تدريجي لتجنب استهلاك الذاكرة

## بنية ملف quran.json
```json
{
  "1": [
    {
      "chapter": 1,
      "verse": 1,
      "text": "بِسۡمِ ٱللَّهِ ٱلرَّحۡمَٰنِ ٱلرَّحِيمِ"
    }
  ]
}
```

## النتائج
بعد تشغيل السكريبت، ستجد:
- 5 قراء في جدول `reciters`
- 6236 آية في جدول `ayah_index`
- جميع الآيات مع نصها العربي ورقم الصفحة

## ملاحظات
- السكريبت يحذف البيانات الموجودة قبل الاستيراد
- يتم حفظ البيانات كل 100 آية لتجنب استهلاك الذاكرة
- رقم الصفحة محسوب تقريبياً ويمكن تحديثه لاحقاً 